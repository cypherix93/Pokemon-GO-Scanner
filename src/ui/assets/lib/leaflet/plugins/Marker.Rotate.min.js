!function(){var o=L.Marker.prototype._setPos;L.Marker.include({_updateImg:function(o,t,i){t=L.point(i).divideBy(2)._subtract(L.point(t));var n="";n+=" translate("+-t.x+"px, "+-t.y+"px)",n+=" rotate("+this.options.iconAngle+"deg)",n+=" translate("+t.x+"px, "+t.y+"px)",o.style[L.DomUtil.TRANSFORM]+=n},_getShortestEndDegree:function(o,t){var i=Math.abs(t-o),n=t-o>=0;if(i<=180)return t;var s=o+(360-i)*(n?-1:1);return s},setIconAngle:function(o){this.options.iconAngle=this._getShortestEndDegree(this.options.iconAngle||0,o),this._map&&this.update()},_setPos:function(t){if(this._icon&&(this._icon.style[L.DomUtil.TRANSFORM]=""),this._shadow&&(this._shadow.style[L.DomUtil.TRANSFORM]=""),o.apply(this,[t]),this.options.iconAngle){var i,n=new L.Icon.Default,s=this.options.icon.options.iconAnchor||n.options.iconAnchor,e=this.options.icon.options.iconSize||n.options.iconSize;this._icon&&(i=this._icon,this._updateImg(i,s,e)),this._shadow&&(this.options.icon.options.shadowAnchor&&(s=this.options.icon.options.shadowAnchor),e=this.options.icon.options.shadowSize,i=this._shadow,this._updateImg(i,s,e))}}})}();